@model List<Capstone.Web.Models.Table>
@{
    ViewBag.Title = "TableSearch";


}

<section id="tableSearch">
    <h2>Active Tables</h2>


    <table id="tableInfo">
        <tr>
            <th>Table Name</th>
            <th>Table Host</th>
            <th>Max Buy-in</th>
            <th>Open Seats</th>

        </tr>

        @foreach (var table in Model)
        {
            int openSeats = 5 - ViewBag.Dictionary[table.TableID]; 

            <tr>
                <td>@table.Name</td>
                <td>@table.TableHost</td>
                <td>@table.MaxBuyIn.ToString("C0")</td>               
                <td>@openSeats</td>

                @using (Html.BeginForm("SitAtTable", "Table", FormMethod.Post))
                {
                    @Html.Hidden("TableID", table.TableID)
                <td>
                    <button>Join Table</button>
                </td>
                }
            </tr>
        }
    </table>
</section>
